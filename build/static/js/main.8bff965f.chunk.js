(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(t,e,a){"use strict";a.r(e);var n=a(32),r=a(1),o=a.n(r),u=a(6),i=a.n(u),s=a(10),c=a(149),g=a(148),m=a(77),l=a.n(m),d=[{name:"\u4e34\u5e8a\u524d",id:0,status:"active"},{name:"\u4e34\u5e8a0\u671f",id:1,status:"active"},{name:"\u4e34\u5e8aI\u671f",id:2,status:"active"},{name:"\u4e34\u5e8aI/II\u671f",id:3,status:"active"},{name:"\u4e34\u5e8aII\u671f",id:4,status:"active"},{name:"\u4e34\u5e8aII/III\u671f",id:5,status:"active"},{name:"\u4e34\u5e8aIII\u671f",id:6,status:"active"},{name:"\u4e0a\u5e02\u7533\u8bf7",id:7,status:"active"},{name:"\u6279\u51c6\u4e0a\u5e02",id:8,status:"active"},{name:"\u5df2\u4e0a\u5e02",id:9,status:"active"},{name:"\u65e0\u8fdb\u5c55",id:10,status:"inactive"},{name:"\u7814\u53d1\u6682\u505c",id:11,status:"inactive"},{name:"\u7814\u53d1\u5931\u8d25",id:12,status:"inactive"},{name:"\u64a4\u9500\u4e0a\u5e02\u7533\u8bf7",id:13,status:"inactive"},{name:"\u64a4\u5e02",id:14,status:"inactive"}],f=[{name:"PD-1",id:42},{name:"PD-2",id:43},{name:"PD-3",id:44},{name:"PD-4",id:45},{name:"PD-5",id:46},{name:"PD-6",id:47}],v=[{stage:d[0],target:f[0],drugAmount:10},{stage:d[1],target:f[0],drugAmount:20},{stage:d[1],target:f[1],drugAmount:40},{stage:d[2],target:f[1],drugAmount:90},{stage:d[3],target:f[1],drugAmount:90},{stage:d[4],target:f[1],drugAmount:200},{stage:d[5],target:f[1],drugAmount:200},{stage:d[6],target:f[1],drugAmount:200},{stage:d[7],target:f[1],drugAmount:200},{stage:d[8],target:f[1],drugAmount:200},{stage:d[9],target:f[1],drugAmount:200},{stage:d[10],target:f[1],drugAmount:10},{stage:d[11],target:f[1],drugAmount:30},{stage:d[12],target:f[1],drugAmount:60},{stage:d[13],target:f[1],drugAmount:200},{stage:d[14],target:f[1],drugAmount:300},{stage:d[14],target:f[2],drugAmount:250},{stage:d[14],target:f[3],drugAmount:500},{stage:d[5],target:f[3],drugAmount:50}],h=a(75),p=a.n(h),A=Object.prototype.toString,I=function(t,e){if("[object Array]"!==A.call(t))throw new Error("\u7b2c\u4e00\u4e2a\u53c2\u6570\u5fc5\u987b\u4e3a Array");if("[object Array]"!==A.call(e))throw new Error("\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5fc5\u987b\u4e3a Array");var a={};return e.forEach(function(e){t.forEach(function(t){t[e]&&(a[e]=(a[e]||0)+t[e])})}),a},E=function(t,e,a){var n={};return function(r,o,u){var i=u%e,s=o.point[t];if(u<e){if(s)return n[i]=!0,a(u,o)}else if(!n[i]&&s)return n[i]=!0,a(u,o)}},w=[{"\u836f\u54c1\u5168\u7403\u7814\u53d1\u9636\u6bb5":"\u4e34\u5e8a\u524d","\u4e34\u5e8a\u524d":5,"\u4e34\u5e8a0\u671f":6,"\u4e34\u5e8aI\u671f":98},{"\u836f\u54c1\u5168\u7403\u7814\u53d1\u9636\u6bb5":"\u4e34\u5e8a0\u671f","\u4e34\u5e8a\u524d":56,"\u4e34\u5e8a0\u671f":34,"\u4e34\u5e8aI\u671f":98},{"\u836f\u54c1\u5168\u7403\u7814\u53d1\u9636\u6bb5":"\u4e34\u5e8aI\u671f","\u4e34\u5e8a\u524d":56,"\u4e34\u5e8aI\u671f":98},{"\u836f\u54c1\u5168\u7403\u7814\u53d1\u9636\u6bb5":"\u4e34\u5e8aII\u671f","\u4e34\u5e8a\u524d":56,"\u4e34\u5e8aI\u671f":98,"\u4e34\u5e8aII\u671f":99}],y=["\u4e34\u5e8a\u524d","\u4e34\u5e8a0\u671f","\u4e34\u5e8aI\u671f","\u4e34\u5e8aII\u671f"];window.test=function(t){console.log(t)};var b=function(){var t=o.a.useState(w),e=Object(n.a)(t,2),a=e[0],r=(e[1],I(a,y)),u=(new p.a).createView().source(a);return u.transform({type:"fold",fields:y,key:"\u9636\u6bb5",value:"\u6570\u91cf"}),o.a.createElement("div",null,o.a.createElement(s.Chart,{onPlotClick:function(t){},data:u,height:400,forceFit:!0,onTooltipChange:function(t){for(var e=t.items.length,a=0;a<e;a++)t.items[a].name="\u836f\u54c1-".concat(t.items[a].name)}},o.a.createElement(s.Legend,{itemFormatter:function(t){return"\u836f\u54c1-".concat(t)}}),o.a.createElement(s.Axis,{name:"\u9636\u6bb5",label:{dataType:"x"}}),o.a.createElement(s.Axis,{name:"\u6570\u91cf",label:{dataType:"y"}}),o.a.createElement(s.Tooltip,null),o.a.createElement(s.Geom,{type:"intervalStack",position:"\u9636\u6bb5*\u6570\u91cf",color:"\u836f\u54c1\u5168\u7403\u7814\u53d1\u9636\u6bb5",active:[!0,{highlight:!0}]},o.a.createElement(s.Label,{content:"\u4e34\u5e8a\u524d",htmlTemplate:E("\u6570\u91cf",y.length,function(t,e){return console.log(t),'\n                <a class="GND-Chart-totalInPillar" style="white-space:nowrap">'.concat(r[e.point["\u9636\u6bb5"]],"</a>\n              ")})}))))},P=(a(90),["#d0f0ff","#b4e3fd","#91d5ff","#40a9ff","#0a6dd9","#0050b3","#002766"]),S=["#fff0a3","#ffe58f","#ffd667","#faad15","#d48806","#ad6800","#613401"],C=[],k={};v.forEach(function(t){var e=t.stage;C.includes(e.name)||(k[e.name]=C.length,C.push(e.name))});var x=[],D={};v.forEach(function(t){var e=t.target;x.includes(e.name)||(D[e.name]=x.length,x.push(e.name))});var j=[];v.forEach(function(t){var e=t.stage,a=t.target,n=t.drugAmount;j.push({stage:k[e.name],target:D[a.name],drugAmount:n,stageStatus:e.status})});var T=[0,0],M=[0,0];v.forEach(function(t){var e=t.stage,a=t.drugAmount;if("active"===e.status){var n=T[0],r=T[1];a<n?T[0]=a:a>r&&(T[1]=a)}else if("inactive"===e.status){var o=M[0],u=M[1];a<o?M[0]=a:a>u&&(M[1]=a)}}),i.a.render(o.a.createElement(function(){var t=o.a.useState(1),e=Object(n.a)(t,2),a=e[0],r=e[1],u=o.a.useState(j.slice(0,10)),i=Object(n.a)(u,2),m=i[0],d=i[1];return o.a.createElement(c.a,{locale:l.a},o.a.createElement("div",{className:"App"},o.a.createElement(b,null),o.a.createElement(s.Chart,{data:m,padding:"auto",scale:{stage:{type:"cat",values:C},target:{type:"cat",values:x}},height:200,forceFit:!0,onPlotClick:function(t){console.log(t)}},o.a.createElement(s.Axis,{name:"stage",position:"top"}),o.a.createElement(s.Axis,{name:"target"}),o.a.createElement(s.Geom,{type:"polygon",position:"stage*target",tooltip:["drugAmount",function(t){return{name:"\u836f\u54c1\u6570\u91cf",value:t}}],color:["drugAmount*stageStatus",function(t,e){if("active"===e){var a=T[1]/P.length,n=Number.parseInt(t/a,10);return 0===n&&(n=1),P[n-1]}if("inactive"===e){var r=M[1]/S.length,o=Number.parseInt(t/r,10);return 0===o&&(o=1),S[o-1]}}]},o.a.createElement(s.Tooltip,null),o.a.createElement(s.Label,{textStyle:{fill:"#fff",shadowBlur:2,shadowColor:"rgba(0, 0, 0, .45)"},offset:-2,content:"drugAmount"}))),o.a.createElement(g.a,{onChange:function(t){r(t),d(j.slice(Math.round(5*Math.random())+1,Math.round(Math.random()*j.length)-1))},showQuickJumper:!0,total:400,current:a,pageSize:10})))},null),document.getElementById("root"))},85:function(t,e,a){t.exports=a(147)}},[[85,1,2]]]);
//# sourceMappingURL=main.8bff965f.chunk.js.map